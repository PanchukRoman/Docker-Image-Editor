# Docker Image Editor

Интерактивный инструмент для редактирования Docker-образов прямо из терминала.  
Позволяет копировать файлы из образа на локальную машину или добавлять файлы в образ и сохранять изменения в новый образ.

## Возможности

- 📋 Просмотр списка локальных Docker-образов
- 📂 Копирование одного или нескольких файлов из контейнера на локальную машину
- 📁 Добавление одного или нескольких локальных файлов в контейнер
- 💾 Сохранение изменений в новый образ (docker commit)
- 🧹 Опциональное удаление временного контейнера после работы
- 🎨 Красивый цветной интерфейс с интерактивными меню и таблицами

## Требования

- Установленный Docker (работающий без sudo для текущего пользователя или настроенный доступ)
- Python 3.6 или выше (только для запуска из исходников; для готового exe не требуется)

## Установка зависимостей (для запуска скрипта)

```bash
pip install docker rich questionary
```

## Пример: сохранение файлов из образа на локальную машину


$ python docker_editor.py
```
╭─────────────────────────────────────╮
│   🐳 Docker Image Editor 🐳         │
╰─────────────────────────────────────╯

? Что вы хотите сделать? Сохранить файл(ы) из образа на локальную машину

Локальные Docker образы
┏━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┓
┃ Репозиторий┃ Тег    ┃ Размер  ┃ ID     ┃
┡━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━╇━━━━━━━━┩
│ nginx      │ latest │ 142 MB  │ def456 │
│ alpine     │ latest │ 5.6 MB  │ abc123 │
└────────────┴────────┴─────────┴────────┘

? Введите имя образа (например, ubuntu:latest): nginx:latest
✔ Образ nginx:latest существует.
✔ Контейнер запущен, ID: a1b2c3d4e5f6
? Введите путь к директории в контейнере (например, /app): /etc/nginx

Файлы в /etc/nginx
┏━━━━━━━━━━━━━━━━━━━━┓
┃ Имя файла          ┃
┡━━━━━━━━━━━━━━━━━━━━┩
│ nginx.conf         │
│ mime.types         │
│ fastcgi_params     │
│ ... и ещё 5        │
└────────────────────┘

? Выберите файлы для копирования:
   ● nginx.conf
   ● mime.types
   ○ fastcgi_params
   ○ proxy_params
   ○ uwsgi_params
   ○ scgi_params
   ○ koi-utf
   ○ win-utf
[Пробел - выбрать, Enter - подтвердить]
? Введите целевую директорию на локальной машине (по умолчанию /tmp): /home/user/backup
✔ nginx.conf -> /home/user/backup/nginx.conf
✔ mime.types -> /home/user/backup/mime.types
? Хотите скопировать ещё файлы? (y/N): n
? Удалить контейнер? (Y/n): y
✔ Контейнер a1b2c3d4e5f6 остановлен и удалён.
```

## Пример: добавление файлов в образ и создание нового образа
```
$ python docker_editor.py
╭─────────────────────────────────────╮
│   🐳 Docker Image Editor 🐳         │
╰─────────────────────────────────────╯

? Что вы хотите сделать? Добавить файл(ы) в образ и создать новый образ

Локальные Docker образы
┏━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┓
┃ Репозиторий┃ Тег    ┃ Размер  ┃ ID     ┃
┡━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━╇━━━━━━━━┩
│ alpine     │ latest │ 5.6 MB  │ abc123 │
│ nginx      │ latest │ 142 MB  │ def456 │
└────────────┴────────┴─────────┴────────┘

? Введите имя образа (например, ubuntu:latest): alpine:latest
✔ Образ alpine:latest существует.
✔ Контейнер запущен, ID: b2c3d4e5f6g7
? Введите путь к локальному файлу или директории: /home/user/myapp
? Выберите файлы для копирования:
   ● /home/user/myapp/app.py
   ● /home/user/myapp/requirements.txt
   ○ /home/user/myapp/start.sh
[Пробел - выбрать, Enter - подтвердить]
? Введите целевую директорию в контейнере (например, /app): /app
✔ app.py скопирован в /app
✔ requirements.txt скопирован в /app
✔ start.sh скопирован в /app
? Хотите добавить ещё файлы? (y/N): n
? Создать новый образ из изменённого контейнера? (Y/n): y
? Введите новое имя и тег для образа (например, myimage:latest): myapp:v1
✔ Образ myapp:v1 создан.
? Удалить контейнер? (Y/n): y
✔ Контейнер b2c3d4e5f6g7 остановлен и удалён.
```

## Примечания
1) Все изменения происходят внутри временного контейнера, который по окончании работы может быть удалён.

2) Для копирования файлов используются системные команды docker cp, поэтому они выполняются так же, как и в обычном Docker CLI.

3) Если в контейнере нет команды ls, список файлов может не отобразиться; в таком случае можно ввести полный путь к файлу вручную (при копировании из контейнера).

4) При копировании из контейнера в локальную папку имена файлов сохраняются.

5) При добавлении файлов в контейнер можно указать как отдельный файл, так и директорию — тогда скрипт предложит выбрать файлы из неё.
